<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"yitaozh.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.21.0","exturl":false,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12,"author":"Echo Joy"},"hljswrap":true,"copycode":{"enable":true,"style":"mac"},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="721. Accounts Merge DescriptionGiven a list of accounts where each element accounts[i] is a list of strings, where the first element accounts[i][0] is a name, and the rest of the elements are emails">
<meta property="og:type" content="article">
<meta property="og:title" content="721. Accounts Merge">
<meta property="og:url" content="https://yitaozh.github.io/2025/01/27/721-Accounts-Merge/index.html">
<meta property="og:site_name" content="Echo&#39;s Home">
<meta property="og:description" content="721. Accounts Merge DescriptionGiven a list of accounts where each element accounts[i] is a list of strings, where the first element accounts[i][0] is a name, and the rest of the elements are emails">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-01-27T15:29:58.000Z">
<meta property="article:modified_time" content="2025-03-22T20:07:00.693Z">
<meta property="article:author" content="Echo Joy">
<meta property="article:tag" content="Array">
<meta property="article:tag" content="Hash Table">
<meta property="article:tag" content="String">
<meta property="article:tag" content="Depth-First Search">
<meta property="article:tag" content="Breadth-First Search">
<meta property="article:tag" content="Sorting">
<meta property="article:tag" content="Union Find">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://yitaozh.github.io/2025/01/27/721-Accounts-Merge/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://yitaozh.github.io/2025/01/27/721-Accounts-Merge/","path":"2025/01/27/721-Accounts-Merge/","title":"721. Accounts Merge"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>721. Accounts Merge | Echo's Home</title>
  







<script src="https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Echo's Home</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Description"><span class="nav-number">1.</span> <span class="nav-text">Description</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hints-Notes"><span class="nav-number">2.</span> <span class="nav-text">Hints&#x2F;Notes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution"><span class="nav-number">3.</span> <span class="nav-text">Solution</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Echo Joy</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">856</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">91</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/nyuzyt" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;nyuzyt" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jstzzyt01@gmail.com" title="E-Mail → mailto:jstzzyt01@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://nyuzyt.github.io/resume/" title="https:&#x2F;&#x2F;nyuzyt.github.io&#x2F;resume&#x2F;" rel="noopener" target="_blank">Resume</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yitaozh.github.io/2025/01/27/721-Accounts-Merge/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Echo Joy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Echo's Home">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="721. Accounts Merge | Echo's Home">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          721. Accounts Merge
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-01-27 15:29:58" itemprop="dateCreated datePublished" datetime="2025-01-27T15:29:58+00:00">2025-01-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-03-22 20:07:00" itemprop="dateModified" datetime="2025-03-22T20:07:00+00:00">2025-03-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/accounts-merge/description/?envType=company&envId=facebook&favoriteSlug=facebook-three-months">721. Accounts Merge</a></p>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Given a list of <code>accounts</code> where each element <code>accounts[i]</code> is a list of strings, where the first element <code>accounts[i][0]</code> is a name, and the rest of the elements are <strong>emails</strong>  representing emails of the account.</p>
<p>Now, we would like to merge these accounts. Two accounts definitely belong to the same person if there is some common email to both accounts. Note that even if two accounts have the same name, they may belong to different people as people could have the same name. A person can have any number of accounts initially, but all of their accounts definitely have the same name.</p>
<p>After merging the accounts, return the accounts in the following format: the first element of each account is the name, and the rest of the elements are emails <strong>in sorted order</strong> . The accounts themselves can be returned in <strong>any order</strong> .</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: accounts = [[<span class="string">&quot;John&quot;</span>,<span class="string">&quot;johnsmith@mail.com&quot;</span>,<span class="string">&quot;john_newyork@mail.com&quot;</span>],[<span class="string">&quot;John&quot;</span>,<span class="string">&quot;johnsmith@mail.com&quot;</span>,<span class="string">&quot;john00@mail.com&quot;</span>],[<span class="string">&quot;Mary&quot;</span>,<span class="string">&quot;mary@mail.com&quot;</span>],[<span class="string">&quot;John&quot;</span>,<span class="string">&quot;johnnybravo@mail.com&quot;</span>]]</span><br><span class="line">Output: [[<span class="string">&quot;John&quot;</span>,<span class="string">&quot;john00@mail.com&quot;</span>,<span class="string">&quot;john_newyork@mail.com&quot;</span>,<span class="string">&quot;johnsmith@mail.com&quot;</span>],[<span class="string">&quot;Mary&quot;</span>,<span class="string">&quot;mary@mail.com&quot;</span>],[<span class="string">&quot;John&quot;</span>,<span class="string">&quot;johnnybravo@mail.com&quot;</span>]]</span><br><span class="line">Explanation:</span><br><span class="line">The first and second John<span class="string">&#x27;s are the same person as they have the common email &quot;johnsmith@mail.com&quot;.</span></span><br><span class="line"><span class="string">The third John and Mary are different people as none of their email addresses are used by other accounts.</span></span><br><span class="line"><span class="string">We could return these lists in any order, for example the answer [[&#x27;</span>Mary<span class="string">&#x27;, &#x27;</span>mary@mail.com<span class="string">&#x27;], [&#x27;</span>John<span class="string">&#x27;, &#x27;</span>johnnybravo@mail.com<span class="string">&#x27;],</span></span><br><span class="line"><span class="string">[&#x27;</span>John<span class="string">&#x27;, &#x27;</span>john00@mail.com<span class="string">&#x27;, &#x27;</span>john_newyork@mail.com<span class="string">&#x27;, &#x27;</span>johnsmith@mail.com<span class="string">&#x27;]] would still be accepted.</span></span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: accounts = [[<span class="string">&quot;Gabe&quot;</span>,<span class="string">&quot;Gabe0@m.co&quot;</span>,<span class="string">&quot;Gabe3@m.co&quot;</span>,<span class="string">&quot;Gabe1@m.co&quot;</span>],[<span class="string">&quot;Kevin&quot;</span>,<span class="string">&quot;Kevin3@m.co&quot;</span>,<span class="string">&quot;Kevin5@m.co&quot;</span>,<span class="string">&quot;Kevin0@m.co&quot;</span>],[<span class="string">&quot;Ethan&quot;</span>,<span class="string">&quot;Ethan5@m.co&quot;</span>,<span class="string">&quot;Ethan4@m.co&quot;</span>,<span class="string">&quot;Ethan0@m.co&quot;</span>],[<span class="string">&quot;Hanzo&quot;</span>,<span class="string">&quot;Hanzo3@m.co&quot;</span>,<span class="string">&quot;Hanzo1@m.co&quot;</span>,<span class="string">&quot;Hanzo0@m.co&quot;</span>],[<span class="string">&quot;Fern&quot;</span>,<span class="string">&quot;Fern5@m.co&quot;</span>,<span class="string">&quot;Fern1@m.co&quot;</span>,<span class="string">&quot;Fern0@m.co&quot;</span>]]</span><br><span class="line">Output: [[<span class="string">&quot;Ethan&quot;</span>,<span class="string">&quot;Ethan0@m.co&quot;</span>,<span class="string">&quot;Ethan4@m.co&quot;</span>,<span class="string">&quot;Ethan5@m.co&quot;</span>],[<span class="string">&quot;Gabe&quot;</span>,<span class="string">&quot;Gabe0@m.co&quot;</span>,<span class="string">&quot;Gabe1@m.co&quot;</span>,<span class="string">&quot;Gabe3@m.co&quot;</span>],[<span class="string">&quot;Hanzo&quot;</span>,<span class="string">&quot;Hanzo0@m.co&quot;</span>,<span class="string">&quot;Hanzo1@m.co&quot;</span>,<span class="string">&quot;Hanzo3@m.co&quot;</span>],[<span class="string">&quot;Kevin&quot;</span>,<span class="string">&quot;Kevin0@m.co&quot;</span>,<span class="string">&quot;Kevin3@m.co&quot;</span>,<span class="string">&quot;Kevin5@m.co&quot;</span>],[<span class="string">&quot;Fern&quot;</span>,<span class="string">&quot;Fern0@m.co&quot;</span>,<span class="string">&quot;Fern1@m.co&quot;</span>,<span class="string">&quot;Fern5@m.co&quot;</span>]]</span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= accounts.length &lt;= 1000</code></li>
<li><code>2 &lt;= accounts[i].length &lt;= 10</code></li>
<li><code>1 &lt;= accounts[i][j].length &lt;= 30</code></li>
<li><code>accounts[i][0]</code> consists of English letters.</li>
<li><code>accounts[i][j] (for j &gt; 0)</code> is a valid email.</li>
</ul>
<h2 id="Hints-Notes"><a href="#Hints-Notes" class="headerlink" title="Hints&#x2F;Notes"></a>Hints&#x2F;Notes</h2><ul>
<li>2025&#x2F;01&#x2F;27</li>
<li>union find or dfs</li>
<li><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/accounts-merge/solutions/2844186/ha-xi-biao-dfspythonjavacgojsrust-by-end-z9nh/?envType=company&envId=facebook&favoriteSlug=facebook-three-months">0x3F’s solution</a>(checked)</li>
</ul>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Language: <strong>C++</strong></p>
<p>Union find:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; roots;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;string&gt;&gt; <span class="built_in">accountsMerge</span>(vector&lt;vector&lt;string&gt;&gt;&amp; accounts) &#123;</span><br><span class="line">        <span class="type">int</span> n = accounts.<span class="built_in">size</span>();</span><br><span class="line">        roots.<span class="built_in">resize</span>(n);</span><br><span class="line">        <span class="built_in">iota</span>(roots.<span class="built_in">begin</span>(), roots.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">        unordered_map&lt;string, <span class="type">int</span>&gt; emailToIndex;</span><br><span class="line">        vector&lt;string&gt; names;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">auto</span>&amp; account = accounts[i];</span><br><span class="line">            string name = account[<span class="number">0</span>];</span><br><span class="line">            names.<span class="built_in">push_back</span>(name);</span><br><span class="line">            vector&lt;<span class="type">int</span>&gt; indexes;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; account.<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (emailToIndex.<span class="built_in">contains</span>(account[j])) &#123;</span><br><span class="line">                    indexes.<span class="built_in">push_back</span>(emailToIndex[account[j]]);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    emailToIndex[account[j]] = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!indexes.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                <span class="type">int</span> root = <span class="built_in">findRoot</span>(indexes[<span class="number">0</span>]);</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; indexes.<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">                    <span class="type">int</span> rootJ = <span class="built_in">findRoot</span>(indexes[j]);</span><br><span class="line">                    roots[rootJ] = root;</span><br><span class="line">                &#125;</span><br><span class="line">                roots[i] = root;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, set&lt;string&gt;&gt; m;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; [email, idx] : emailToIndex) &#123;</span><br><span class="line">            <span class="type">int</span> root = <span class="built_in">findRoot</span>(idx);</span><br><span class="line">            m[root].<span class="built_in">insert</span>(email);</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;vector&lt;string&gt;&gt; res;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; [idx, v] : m) &#123;</span><br><span class="line">            vector&lt;string&gt; cur;</span><br><span class="line">            cur.<span class="built_in">push_back</span>(names[idx]);</span><br><span class="line">            cur.<span class="built_in">insert</span>(cur.<span class="built_in">end</span>(), v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">            res.<span class="built_in">push_back</span>(cur);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findRoot</span><span class="params">(<span class="type">int</span> root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (roots[root] != root) &#123;</span><br><span class="line">            roots[root] = <span class="built_in">findRoot</span>(roots[root]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> roots[root];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>dfs:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;<span class="type">bool</span>&gt; visited;</span><br><span class="line">    unordered_map&lt;string, vector&lt;<span class="type">int</span>&gt;&gt; m;</span><br><span class="line">    unordered_set&lt;string&gt; email_set;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;string&gt;&gt; <span class="built_in">accountsMerge</span>(vector&lt;vector&lt;string&gt;&gt;&amp; accounts) &#123;</span><br><span class="line">        <span class="type">int</span> n = accounts.<span class="built_in">size</span>();</span><br><span class="line">        visited.<span class="built_in">resize</span>(n, <span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; accounts.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; accounts[i].<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">                m[accounts[i][j]].<span class="built_in">push_back</span>(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;vector&lt;string&gt;&gt; res;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[i]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            email_set.<span class="built_in">clear</span>();</span><br><span class="line">            <span class="built_in">dfs</span>(i, accounts);</span><br><span class="line">            vector&lt;string&gt; cur = &#123;accounts[i][<span class="number">0</span>]&#125;;</span><br><span class="line">            cur.<span class="built_in">insert</span>(cur.<span class="built_in">end</span>(), email_set.<span class="built_in">begin</span>(), email_set.<span class="built_in">end</span>());</span><br><span class="line">            ranges::<span class="built_in">sort</span>(cur.<span class="built_in">begin</span>() + <span class="number">1</span>, cur.<span class="built_in">end</span>());</span><br><span class="line">            res.<span class="built_in">push_back</span>(cur);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> index, vector&lt;vector&lt;string&gt;&gt;&amp; accounts)</span> </span>&#123;</span><br><span class="line">        visited[index] = <span class="literal">true</span>;</span><br><span class="line">        unordered_set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">        <span class="comment">// start from account[i]&#x27;s emails, then for each account containing</span></span><br><span class="line">        <span class="comment">// this email, we just go through that account as well</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; accounts[index].<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            string&amp; email = accounts[index][i];</span><br><span class="line">            email_set.<span class="built_in">insert</span>(email);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j : m[email]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!visited[j]) &#123;</span><br><span class="line">                    <span class="built_in">dfs</span>(j, accounts);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Array/" rel="tag"># Array</a>
              <a href="/tags/Hash-Table/" rel="tag"># Hash Table</a>
              <a href="/tags/String/" rel="tag"># String</a>
              <a href="/tags/Depth-First-Search/" rel="tag"># Depth-First Search</a>
              <a href="/tags/Breadth-First-Search/" rel="tag"># Breadth-First Search</a>
              <a href="/tags/Sorting/" rel="tag"># Sorting</a>
              <a href="/tags/Union-Find/" rel="tag"># Union Find</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/01/27/921-Minimum-Add-to-Make-Parentheses-Valid/" rel="prev" title="921. Minimum Add to Make Parentheses Valid">
                  <i class="fa fa-angle-left"></i> 921. Minimum Add to Make Parentheses Valid
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2025/01/28/691-Stickers-to-Spell-Word/" rel="next" title="691. Stickers to Spell Word">
                  691. Stickers to Spell Word <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Echo Joy</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  





</body>
</html>
